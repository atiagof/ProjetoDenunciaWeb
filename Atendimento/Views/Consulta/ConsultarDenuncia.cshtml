@model WebDenunciaSSP.Atendimento.Models.ConsultaViewModel

<section ng-controller="ctrlConsultarDenuncia">

    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="text-align: center;">
        <h1><b>CONSULTAR DENÚNCIA</b></h1>
    </div>

    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="text-align: center; margin-bottom: 20px;" ng-if="denuncia == null || vazio == null">
        <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>
        <span style="font-size: 35px;">Carregando denúncia...</span>
    </div>

    <section ng-if="vazio">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="text-align: center;">
            <i class="fa fa-exclamation-triangle fa-5x fa-fw" style="color: #d43f3a;"></i><br />
            <span style="font-size: 24px;">Denúncia não encontrada!</span>
        </div>

        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="text-align:center; margin-top: 20px; margin-bottom: 20px;">
            <button type="button" class="btn btn-primary" style="width: 200px; margin-right: 15px; margin-left: 15px;" ng-click="retornar()">
                <img src="~/images/icones/icone_pata.svg" style="width: 27px; height: 28px; margin-right: 5px;" /> VOLTAR
            </button>
        </div>
    </section>

    <section ng-if="!vazio && denuncia != null">

        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <h3 class="pull-left denuncia_header"><b>Denúncia - D{{denuncia.numero}}{{denuncia.ano}}</b></h3>
            <button type="button" class="btn btn-danger fa fa-2x fa-file-pdf-o pull-right" ng-click="exportar()"></button>
        </div>

        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <h3><b>Situação Polícia Civil:</b> {{denuncia.status_pc}}</h3>
            <h3><b>Situação Polícia Militar:</b> {{denuncia.status_pm}}</h3>
        </div>        
    
        @* Dados da ocorrência *@
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <a class="" role="button" data-toggle="collapse" href="#dadoDenuncia" aria-expanded="false" aria-controls="dadoDenuncia">
                <h3 class="info_header">
                    <i class="fa fa-caret-right iconDenuncia"></i>
                    <span> Ocorrência</span>
                </h3>
            </a>

            <div class="row collapse" id="dadoDenuncia">

                <div class="col-lg-2 col-md-2 col-sm-3 col-xs-6">
                    <b>Data do fato:</b> <span ng-bind="denuncia.data_ocorrencia"></span>
                </div>

                <div class="col-lg-2 col-md-2 col-sm-3 col-xs-6">
                    <b>Hora aproximada:</b> <span ng-bind="denuncia.periodo"></span>
                </div>

                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <b>Tipo do crime:</b>
                    <span ng-bind="denuncia.tipo_crime"></span>
                    <span ng-if="denuncia.flag_tipo_crime"> - {{denuncia.outro_tipo_crime}}</span>
                </div>

                <section ng-repeat="animal in denuncia.animais">
                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                        <b>Classificação do animal:</b> <span ng-bind="animal.descricao"></span>
                    </div>

                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                        <b>Quantidade:</b> <span ng-bind="animal.quantidade"></span>
                    </div>
                </section>
                <div class="clearfix"></div>

                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <b>Relato do fato:</b> <span ng-bind="denuncia.relato"></span>
                </div>
                <div class="clearfix"></div>

                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <h4 class="info_denuncia_header">Endereço</h4>
                </div>

                <div class="col-lg-2 col-md-2 col-sm-3 col-xs-6">
                    <b>Tipo de endereço:</b> <span ng-bind="denuncia.tipo_endereco"></span>
                </div>

                <div class="col-lg-2 col-md-2 col-sm-3 col-xs-6">
                    <b>CEP:</b> <span ng-bind="denuncia.cep"></span>
                </div>

                <div class="col-lg-6 col-md-6 col-sm-4 col-xs-8">
                    <b>Endereço:</b> <span ng-bind="denuncia.endereco"></span>
                </div>

                <div class="col-lg-2 col-md-2 col-sm-2 col-xs-4">
                    <b>Número:</b> <span ng-bind="denuncia.endereco_numero"></span>
                </div>

                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-8">
                    <b>Complemento:</b> <span ng-bind="denuncia.complemento"></span>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-4">
                    <b>Bairro:</b> <span ng-bind="denuncia.bairro"></span>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-6">
                    <b>Cidade:</b> <span ng-bind="denuncia.cidade"></span>
                </div>

                <div class="col-lg-2 col-md-2 col-sm-6 col-xs-6">
                    <b>Estado:</b> <span ng-bind="denuncia.estado"></span>
                </div>

                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <b>Ponto de referência:</b> <span ng-bind="denuncia.endereco_referencia"></span>
                </div>

                <div class="clearfix"></div>
                <section ng-repeat="veiculo in denuncia.veiculos">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <h4 class="info_denuncia_header">Veículo {{$index + 1}}</h4>
                    </div>

                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
                        <b>Tipo do veículo:</b> <span ng-bind="veiculo.tipo_veiculo"></span>
                    </div>

                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
                        <b>Número da placa:</b> <span ng-bind="veiculo.placa"></span>
                    </div>

                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-8">
                        <b>Marca:</b> <span ng-bind="veiculo.marca"></span>
                    </div>

                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                        <b>Cor:</b> <span ng-bind="veiculo.cor_veiculo"></span>
                    </div>

                    <div class="col-lg-6 col-md-6 col-sm-8 col-xs-12">
                        <b>Modelo:</b> <span ng-bind="veiculo.modelo"></span>
                    </div>

                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <b>Observações:</b> <span ng-bind="veiculo.observacoes"></span>
                    </div>
                </section>

                <div class="clearfix"></div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <h4 class="info_denuncia_header">Informações adicionais</h4>
                </div>

                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <b>Foi registrado um Boletim de ocorrência?</b> <span ng-bind="denuncia.flag_boletim"></span>
                </div>

                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <b>O denunciado porta arma de fogo?</b> <span ng-bind="denuncia.flag_porte_arma"></span>
                </div>

                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <b>Há possibilidade de ocorrer fuga do local onde o denunciado se encontra?</b>
                    <span ng-bind="denuncia.local_fuga"></span>
                    <span ng-if="denuncia.flag_local_fuga"> - {{denuncia.descricao_local_fuga}}</span>
                </div>

                <div class="clearfix"></div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <h4 class="info_denuncia_header">Anexos</h4>
                </div>

                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" ng-if="denuncia.anexos.length <= 0">
                    Nenhum anexo foi adicionado nesta denúncia.
                </div>

                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" ng-if="denuncia.anexos.length > 0">
                    <div class="row">

                        <div class="col-md-4" ng-repeat="anexo in denuncia.anexos" style="margin-bottom: 10px;">
                            <div class="thumbnail noradius nomargin">

                                <div class="caption">
                                    <h4>{{anexo.original}}</h4>
                                    <div class="flexrow" ng-if="anexo.preview">
                                        <button type="button" class="btn btn-primary" ng-click="exibirAnexo(anexo)">
                                            Visualizar
                                        </button>
                                        <button type="button" class="btn btn-primary" ng-click="baixarAnexo(anexo)">
                                            Download
                                        </button>
                                    </div>
                                    <div class="text-right" ng-if="!anexo.preview">
                                        <button type="button" class="btn btn-primary" ng-click="baixarAnexo(anexo)">
                                            Download
                                        </button>
                                    </div>
                                </div>

                            </div>
                        </div>

                    </div>
                </div>

                <div class="clearfix"></div>
                <section ng-repeat="link in denuncia.links">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <h4 class="info_denuncia_header">Internet {{$index + 1}}</h4>
                    </div>

                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <b>Página da internet:</b> <span ng-bind="link.endereco"></span>
                    </div>

                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <b>Observações:</b> <span ng-bind="link.observacoes"></span>
                    </div>
                </section>

            </div>
        </div>

        @* Dados do denunciante *@
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <a class="" role="button" data-toggle="collapse" href="#dadoDenunciante" aria-expanded="false" aria-controls="dadoDenunciante">
                <h3 class="info_header">
                    <i class="fa fa-caret-right iconDenunciante"></i>
                    <span> Denunciante</span>
                </h3>
            </a>

            <div class="row collapse" id="dadoDenunciante">

                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <h4 class="info_denuncia_header">Informações do(a) Denunciante</h4>
                </div>

                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <b>O denunciante desejou manter os seus dados pessoais em sigilo?</b> <span ng-bind="denuncia.denunciante.sigilo"></span>
                </div>

                <div class="col-lg-6 col-md-6 col-sm-12 col-xs-8">
                    <b>Nome:</b> <span ng-bind="denuncia.denunciante.nome"></span>
                </div>

                <div class="col-lg-2 col-md-2 col-sm-12 col-xs-4">
                    <b>Sexo:</b> <span ng-bind="denuncia.denunciante.sexo"></span>
                </div>

                <div class="col-lg-2 col-md-2 col-sm-12 col-xs-6">
                    <b>Telefone fixo:</b> <span ng-bind="denuncia.denunciante.tel_residencial"></span>
                </div>

                <div class="col-lg-2 col-md-2 col-sm-12 col-xs-6">
                    <b>Telefone celular:</b> <span ng-bind="denuncia.denunciante.tel_celular"></span>
                </div>

                <div class="clearfix"></div>
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                    <b>Endereço de e-mail:</b> <span ng-bind="denuncia.denunciante.email"></span>
                </div>

                <div class="col-lg-2 col-md-2 col-sm-6 col-xs-4">
                    <b>CPF:</b> <span ng-bind="denuncia.denunciante.CPF"></span>
                </div>

                <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">
                    <b>RG:</b> <span ng-bind="denuncia.denunciante.RG"></span>
                </div>

                <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4">
                    <b>UF emissor:</b> <span ng-bind="denuncia.denunciante.RG_UF"></span>
                </div>

                <div class="col-lg-2 col-md-2 col-sm-4 col-xs-12">
                    <b>Naturalidade:</b> <span ng-bind="denuncia.denunciante.naturalidade"></span>
                </div>

                <div class="col-lg-2 col-md-2 col-sm-4 col-xs-3">
                    <b>Data de nascimento:</b> <span ng-bind="denuncia.denunciante.data_nascimento"></span>
                </div>

                <div class="col-lg-4 col-md-12 col-sm-12 col-xs-3">
                    <b>Estado civil:</b> <span ng-bind="denuncia.denunciante.estado_civil"></span>
                </div>

                <div class="col-lg-4 col-md-12 col-sm-12 col-xs-6">
                    <b>Profissão:</b> <span ng-bind="denuncia.denunciante.profissao"></span>
                </div>

                <div class="clearfix"></div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <h4 class="info_denuncia_header">Endereço</h4>
                </div>

                <div class="col-lg-2 col-md-2 col-sm-3 col-xs-3">
                    <b>CEP:</b> <span ng-bind="denuncia.denunciante.CEP"></span>
                </div>

                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-6">
                    <b>Endereço:</b> <span ng-bind="denuncia.denunciante.endereco"></span>
                </div>

                <div class="col-lg-2 col-md-2 col-sm-3 col-xs-3">
                    <b>Número:</b> <span ng-bind="denuncia.denunciante.numero"></span>
                </div>

                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                    <b>Complemento:</b> <span ng-bind="denuncia.denunciante.complemento"></span>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-4 col-xs-4">
                    <b>Bairro:</b> <span ng-bind="denuncia.denunciante.bairro"></span>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-4 col-xs-4">
                    <b>Cidade:</b> <span ng-bind="denuncia.denunciante.cidade"></span>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-4 col-xs-4">
                    <b>Estado:</b> <span ng-bind="denuncia.denunciante.estado"></span>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-8 col-xs-8">
                    <b>Ponto de referência:</b> <span ng-bind="denuncia.denunciante.referencia"></span>
                </div>

            </div>
        </div>

        @* Dados do denunciado *@
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" ng-repeat="denunciado in denuncia.denunciados">
            <a class="" role="button" data-toggle="collapse" href="#dadoDenunciado{{$index}}" aria-expanded="false" aria-controls="dadoDenunciado{{$index}}">
                <h3 class="info_header">
                    <i class="fa fa-caret-right iconDenunciado{{$index}}"></i>
                    <span> Denunciado {{$index + 1}}</span>
                </h3>
            </a>

            <div class="row collapse" id="dadoDenunciado{{$index}}">

                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <b>Nome:</b> <span ng-bind="denunciado.nome"></span>
                </div>

                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <b>Apelido:</b> <span ng-bind="denunciado.apelido"></span>
                </div>

                <div class="clearfix"></div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <h4 class="info_denuncia_header">Características</h4>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-6">
                    <b>Sexo:</b> <span ng-bind="denunciado.sexo"></span>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-6">
                    <b>Idade:</b> <span ng-bind="denunciado.idade"></span>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-6">
                    <b>Estatura:</b> <span ng-bind="denunciado.estatura"></span>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-6">
                    <b>Tipo físico:</b> <span ng-bind="denunciado.tipo_fisico"></span>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-6">
                    <b>Cor da pele:</b> <span ng-bind="denunciado.cor_pele"></span>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-6">
                    <b>Cor dos olhos:</b> <span ng-bind="denunciado.cor_olhos"></span>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-6">
                    <b>Tipo de cabelo:</b> <span ng-bind="denunciado.tipo_cabelo"></span>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-6" ng-if="denunciado.flag_tipo_cabelo">
                    <b>Descrição do tipo de cabelo:</b> <span ng-bind="denunciado.desc_tipo_cabelo"></span>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-6">
                    <b>Cor do cabelo:</b> <span ng-bind="denunciado.cor_cabelo"></span>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-6" ng-if="denunciado.flag_cor_cabelo">
                    <b>Descrição da cor do cabelo:</b> <span ng-bind="denunciado.desc_cor_cabelo"></span>
                </div>

                <div class="col-lg-2 col-md-2 col-sm-3 col-xs-4">
                    <b>Tem cicatriz?</b> <span ng-bind="denunciado.cicatriz"></span>
                </div>

                <div class="col-lg-4 col-md-4 col-sm-9 col-xs-8" ng-if="denunciado.flag_cicatriz">
                    <b>Descrição cicatriz:</b> <span ng-bind="denunciado.desc_cicatriz"></span>
                </div>

                <div class="col-lg-2 col-md-2 col-sm-3 col-xs-4">
                    <b>Tem tatuagem?</b> <span ng-bind="denunciado.tatuagem"></span>
                </div>

                <div class="col-lg-4 col-md-4 col-sm-9 col-xs-8" ng-if="denunciado.flag_tatuagem">
                    <b>Descrição tatuagem:</b> <span ng-bind="denunciado.desc_tatuagem"></span>
                </div>

                <div class="clearfix"></div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <h4 class="info_denuncia_header">Endereço</h4>
                </div>

                <section ng-if="!denunciado.flag_endereco">
                    <div class="col-lg-2 col-md-2 col-sm-3 col-xs-6">
                        <b>Endereço não foi informado</b>
                    </div>
                </section>

                <section ng-if="denunciado.flag_endereco">
                    <div class="col-lg-2 col-md-2 col-sm-3 col-xs-6">
                        <b>Tipo de endereço:</b> <span ng-bind="denunciado.tipo_endereco"></span>
                    </div>

                    <div class="col-lg-2 col-md-2 col-sm-3 col-xs-6">
                        <b>CEP:</b> <span ng-bind="denunciado.CEP"></span>
                    </div>

                    <div class="col-lg-6 col-md-6 col-sm-4 col-xs-8">
                        <b>Endereço:</b> <span ng-bind="denunciado.endereco"></span>
                    </div>

                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-4">
                        <b>Número:</b> <span ng-bind="denunciado.numero"></span>
                    </div>

                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-8">
                        <b>Complemento:</b> <span ng-bind="denunciado.complemento"></span>
                    </div>

                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-4">
                        <b>Bairro:</b> <span ng-bind="denunciado.bairro"></span>
                    </div>

                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-6">
                        <b>Cidade:</b> <span ng-bind="denunciado.cidade"></span>
                    </div>

                    <div class="col-lg-2 col-md-2 col-sm-6 col-xs-6">
                        <b>Estado:</b> <span ng-bind="denunciado.estado"></span>
                    </div>

                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <b>Ponto de referência:</b> <span ng-bind="denunciado.referencia"></span>
                    </div>
                </section>

            </div>
        </div>

        @* Dados do encaminhamento *@
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <a class="" role="button" data-toggle="collapse" href="#dadoEncaminhar" aria-expanded="false" aria-controls="dadoEncaminhar">
                <h3 class="info_header">
                    <i class="fa fa-caret-right iconEncaminhar"></i>
                    <span> Encaminhamento</span>
                </h3>
            </a>

            <div class="row collapse" id="dadoEncaminhar">

                @* Civil *@
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

                    <h3 class="info_denuncia_header">Polícia Civil</h3>

                    <div class="row">
                        <section ng-if="denuncia.id_status_pc == 1 || denuncia.id_status_pc == 2 || denuncia.id_status_pc == 9">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>Aguardando a análise da denúncia.</b>
                            </div>
                        </section>

                        <section ng-if="denuncia.id_status_pc == 3 || denuncia.id_status_pc == 4">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>A análise da denúncia resultou no descarte dela.</b>
                            </div>
                        </section>

                        <section ng-if="denuncia.id_status_pc >= 5 && denuncia.id_status_pc != 9">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>Encaminhado para a unidade policial:</b> <span ng-bind="denuncia.orgao_pc"></span>
                            </div>

                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <span ng-if="denuncia.just_reativo_pc == null || denuncia.just_reativo_pc == ''"><b>Não houve reativação nesta denúncia.</b></span>
                                <span ng-if="denuncia.just_reativo_pc != null && denuncia.just_reativo_pc != ''">
                                    <b>Justificativa de reativação:</b> <span ng-bind="denuncia.just_reativo_pc"></span>
                                </span>
                            </div>
                        </section>
                    </div>

                </div>

                @* Militar *@
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

                    <h3 class="info_denuncia_header">Polícia Militar</h3>

                    <div class="row">
                        <section ng-if="denuncia.id_status_pm == 1 || denuncia.id_status_pm == 2 || denuncia.id_status_pm == 9">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>Aguardando a análise da denúncia.</b>
                            </div>
                        </section>

                        <section ng-if="denuncia.id_status_pm == 3 || denuncia.id_status_pm == 4">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>A análise da denúncia resultou no descarte dela.</b>
                            </div>
                        </section>

                        <section ng-if="denuncia.id_status_pm >= 5 && denuncia.id_status_pm != 9">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>Encaminhado para a unidade policial:</b> <span ng-bind="denuncia.orgao_pm"></span>
                            </div>

                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <span ng-if="denuncia.just_reativo_pm == null || denuncia.just_reativo_pm == ''"><b>Não houve reativação nesta denúncia.</b></span>
                                <span ng-if="denuncia.just_reativo_pm != null && denuncia.just_reativo_pm != ''">
                                    <b>Justificativa de reativação:</b> <span ng-bind="denuncia.just_reativo_pm"></span>
                                </span>
                            </div>
                        </section>

                    </div>
                </div>

            </div>
        </div>

        @* Dados da Apuração *@
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <a class="" role="button" data-toggle="collapse" href="#dadoApuracao" aria-expanded="false" aria-controls="dadoApuracao">
                <h3 class="info_header">
                    <i class="fa fa-caret-right iconApuracao"></i>
                    <span> Apuração/Resposta</span>
                </h3>
            </a>

            <div class="row collapse" id="dadoApuracao">
    
                @* Civil *@
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

                    <h3 class="info_denuncia_header">Polícia Civil</h3>

                    <div class="row">
                        <section ng-if="denuncia.id_status_pc == 1 || denuncia.id_status_pc == 2 || denuncia.id_status_pc == 9">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>Aguardando a análise da denúncia.</b>
                            </div>
                        </section>

                        <section ng-if="denuncia.id_status_pc == 3 || denuncia.id_status_pc == 4">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>A análise da denúncia resultou no descarte dela.</b>
                            </div>
                        </section>

                        <section ng-if="denuncia.id_status_pc >= 5 && denuncia.id_status_pc != 9">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>Unidade policial que recebeu a denúncia:</b> <span ng-bind="denuncia.orgao_pc"></span>
                            </div>

                            <section ng-if="denuncia.id_status_pc > 5">
                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                    <span ng-if="denuncia.just_retorno_pc == null || denuncia.just_retorno_pc == ''">
                                        Não houve retorno de resposta insuficiente pela administração.
                                    </span>
                                    <span ng-if="denuncia.just_retorno_pc != null && denuncia.just_retorno_pc != ''">
                                        <b>Justificativa do retorno:</b> <span ng-bind="denuncia.just_retorno_pc"></span>
                                    </span>
                                </div>

                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                    <b>A apuração da denúncia foi finalizada com resultado positivo?</b> <span ng-bind="denuncia.flag_resposta_pc"></span>
                                </div>

                                <section ng-if="denuncia.flag_resposta_pc != null && denuncia.flag_resposta_pc == 'Sim'">

                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                        <b>Número de boletim:</b> <span ng-bind="denuncia.numero_boletim_pc"></span>
                                    </div>

                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                        <b>Tipo de boletim:</b> <span ng-bind="denuncia.tipo_boletim_pc"></span>
                                    </div>

                                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                                        <b>Data de providência:</b> <span ng-bind="denuncia.data_providencia_pc"></span>
                                    </div>

                                </section>

                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                    <b>Resposta enviada pela unidade policial:</b> <span ng-bind="denuncia.resposta_pc"></span>
                                </div>
                            </section>
                        </section>
                    </div>

                    <h3 class="info_denuncia_header">Histórico</h3>
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="margin-bottom: 10px;">
                            <div class="row" ng-repeat="historico in denuncia.historico_pc track by $index">
                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><b>Histórico {{$index + 1}}</b></div>
                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                    <b>Resposta enviada pela unidade policial:</b> <span ng-bind="historico.resposta"></span>
                                </div>
                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                    <b>Data em que a resposta foi enviada:</b> <span ng-bind="historico.data_resposta"></span>
                                </div>
                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" ng-if="historico.just_retorno != null">
                                    <b>Justificativa do retorno:</b> <span ng-bind="historico.just_retorno"></span>
                                </div>
                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" ng-if="historico.just_retorno != null">
                                    <b>Data do retorno da resposta:</b> <span ng-bind="historico.data_retorno"></span>
                                </div>
                                <div>&nbsp;</div>
                            </div>
                        </div>
                    </div>                    
                </div> 

                    @* Militar *@
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

                        <h3 class="info_denuncia_header">Polícia Militar</h3>

                        <div class="row">
                            <section ng-if="denuncia.id_status_pm == 1 || denuncia.id_status_pm == 2 || denuncia.id_status_pm == 9">
                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                    <b>Aguardando a análise da denúncia.</b>
                                </div>
                            </section>

                            <section ng-if="denuncia.id_status_pm == 3 || denuncia.id_status_pm == 4">
                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                    <b>A análise da denúncia resultou no descarte dela.</b>
                                </div>
                            </section>

                            <section ng-if="denuncia.id_status_pm >= 5 && denuncia.id_status_pm != 9">
                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                    <b>Unidade policial que recebeu a denúncia:</b> <span ng-bind="denuncia.orgao_pm"></span>
                                </div>

                                <section ng-if="denuncia.id_status_pm > 5">
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                        <span ng-if="denuncia.just_retorno_pm == null || denuncia.just_retorno_pm == ''">
                                            Não houve retorno de resposta insuficiente pela administração.
                                        </span>
                                        <span ng-if="denuncia.just_retorno_pm != null && denuncia.just_retorno_pm != ''">
                                            <b>Justificativa do retorno:</b> <span ng-bind="denuncia.just_retorno_pm"></span>
                                        </span>
                                    </div>

                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                        <b>A apuração da denúncia foi finalizada com resultado positivo?</b> <span ng-bind="denuncia.flag_resposta_pm"></span>
                                    </div>

                                    <section ng-if="denuncia.flag_resposta_pm != null && denuncia.flag_resposta_pm == 'Sim'">

                                        <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                            <b>Número de boletim:</b> <span ng-bind="denuncia.numero_boletim_pm"></span>
                                        </div>

                                        <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                            <b>Tipo de boletim:</b> <span ng-bind="denuncia.tipo_boletim_pm"></span>
                                        </div>

                                        <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                                            <b>Data de providência:</b> <span ng-bind="denuncia.data_providencia_pm"></span>
                                        </div>

                                    </section>

                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                        <b>Resposta enviada pela unidade policial:</b> <span ng-bind="denuncia.resposta_pm"></span>
                                    </div>
                                </section>
                            </section>
                        </div>

                        <h3 class="info_denuncia_header">Histórico</h3>
                        <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="margin-bottom: 10px;">
                                <div class="row" ng-repeat="historico in denuncia.historico_pm track by $index">
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><b>Histórico {{$index + 1}}</b></div>
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                        <b>Resposta enviada pela unidade policial:</b> <span ng-bind="historico.resposta"></span>
                                    </div>
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                        <b>Data em que a resposta foi enviada:</b> <span ng-bind="historico.data_resposta"></span>
                                    </div>
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" ng-if="historico.just_retorno != null">
                                        <b>Justificativa do retorno:</b> <span ng-bind="historico.just_retorno"></span>
                                    </div>
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" ng-if="historico.just_retorno != null">
                                        <b>Data do retorno da resposta:</b> <span ng-bind="historico.data_retorno"></span>
                                    </div>
                                    <div>&nbsp;</div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
        </div>        
    
        @* Dados do Descarte *@
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <a class="" role="button" data-toggle="collapse" href="#dadoDescarte" aria-expanded="false" aria-controls="dadoDescarte">
                <h3 class="info_header">
                    <i class="fa fa-caret-right iconDescarte"></i>
                    <span> Descarte</span>
                </h3>
            </a>

            <div class="row collapse" id="dadoDescarte">

                @* Civil *@
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

                    <h3 class="info_denuncia_header">Polícia Civil</h3>

                    <div class="row">
                        <section ng-if="denuncia.id_status_pc == 1 || denuncia.id_status_pc == 2 || denuncia.id_status_pc == 9">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>Aguardando a análise da denúncia.</b>
                            </div>
                        </section>

                        <section ng-if="denuncia.id_status_pc == 3">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>A análise da denúncia resultou no descarte dela.</b>
                            </div>
                        </section>

                        <section ng-if="denuncia.id_status_pc == 4">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>Motivo do descarte:</b> <span ng-bind="denuncia.just_descarte_pc"></span>
                            </div>
                        </section>

                        <section ng-if="denuncia.id_status_pc >= 5 && denuncia.id_status_pc != 9">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>Foi realizado o encaminhamento da denúncia.</b>
                            </div>
                        </section>
                    </div>

                </div>

                @* Militar *@
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

                    <h3 class="info_denuncia_header">Polícia Militar</h3>

                    <div class="row">
                        <section ng-if="denuncia.id_status_pm == 1 || denuncia.id_status_pm == 2 || denuncia.id_status_pm == 9">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>Aguardando a análise da denúncia.</b>
                            </div>
                        </section>

                        <section ng-if="denuncia.id_status_pm == 3">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>A análise da denúncia resultou no descarte dela.</b>
                            </div>
                        </section>

                        <section ng-if="denuncia.id_status_pm == 4">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>Motivo do descarte:</b> <span ng-bind="denuncia.just_descarte_pm"></span>
                            </div>
                        </section>

                        <section ng-if="denuncia.id_status_pm >= 5 && denuncia.id_status_pm != 9">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>Foi realizado o encaminhamento da denúncia.</b>
                            </div>
                        </section>
                    </div>
                </div>

            </div>
        </div>
    
        @* Dados da Validação *@
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <a class="" role="button" data-toggle="collapse" href="#dadoValidacao" aria-expanded="false" aria-controls="dadoValidacao">
                <h3 class="info_header">
                    <i class="fa fa-caret-right iconValidacao"></i>
                    <span> Validação</span>
                </h3>
            </a>

            <div class="row collapse" id="dadoValidacao">
    
                @* Civil *@
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

                    <h3 class="info_denuncia_header">Polícia Civil</h3>

                    <div class="row">
                        <section ng-if="denuncia.id_status_pc == 1 || denuncia.id_status_pc == 2 || denuncia.id_status_pc == 9">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>Aguardando a análise da denúncia.</b>
                            </div>
                        </section>

                        <section ng-if="denuncia.id_status_pc == 3 || denuncia.id_status_pc == 4">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>A análise da denúncia resultou no descarte dela.</b>
                            </div>
                        </section>

                        <section ng-if="denuncia.id_status_pc == 5 || denuncia.id_status_pc == 6 || denuncia.id_status_pc == 7">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>Aguardando a finalização da denúncia.</b>
                            </div>
                        </section>

                        <section ng-if="denuncia.id_status_pc == 8">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>Resposta encaminhada para o cidadão:</b> <span ng-bind="denuncia.resposta_final_pc"></span>
                            </div>
                        </section>
                    </div>

                </div>

                @* Militar *@
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

                    <h3 class="info_denuncia_header">Polícia Militar</h3>

                    <div class="row">
                        <section ng-if="denuncia.id_status_pm == 1 || denuncia.id_status_pm == 2 || denuncia.id_status_pm == 9">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>Aguardando a análise da denúncia.</b>
                            </div>
                        </section>

                        <section ng-if="denuncia.id_status_pm == 3 || denuncia.id_status_pm == 4">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>A análise da denúncia resultou no descarte dela.</b>
                            </div>
                        </section>

                        <section ng-if="denuncia.id_status_pm == 5 || denuncia.id_status_pm == 6 || denuncia.id_status_pm == 7">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>Aguardando a finalização da denúncia.</b>
                            </div>
                        </section>

                        <section ng-if="denuncia.id_status_pm == 8">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <b>Resposta encaminhada para o cidadão:</b> <span ng-bind="denuncia.resposta_final_pc"></span>
                            </div>
                        </section>
                    </div>
                </div>

            </div>
        </div>

        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="text-align:center; margin-top: 20px; margin-bottom: 20px;">
            <button type="button" class="btn btn-primary" style="width: 200px; margin-right: 15px; margin-left: 15px;" ng-click="retornar()">
                <img src="~/images/icones/icone_pata.svg" style="width: 27px; height: 28px; margin-right: 5px;" /> NOVA CONSULTA
            </button>
        </div>

    </section>

    <section>
        
        @* Modal Anexo *@
        <div class="modal fade" id="anexoModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="myModalLabel">Visualizando anexo</h4>
                    </div>
                    <div class="modal-body">
                        <h4>{{anexo_modal.original}}</h4>

                        @* Checar se é video ou imagem e exibir de acordo *@
                        <img class="img-responsive" ng-src="~/{{anexo_modal.descricao}}" />
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" style="width: 150px; margin-right: 8px; margin-left: 8px;" data-dismiss="modal">
                            <img src="~/images/icones/icone_pata.svg" style="width: 27px; height: 28px; margin-right: 5px;" /> FECHAR
                        </button>
                        <button type="button" class="btn btn-danger" style="width: 150px; margin-left: 8px;" ng-click="baixarAnexo(anexo_modal)">
                            <img src="~/images/icones/icone_pata.svg" style="width: 27px; height: 28px; margin-right: 5px;" /> DOWNLOAD
                        </button>
                    </div>
                </div>
            </div>
        </div>

    </section>

</section>

<script type="text/javascript" src="~/App/Consulta/ctrlConsultarDenuncia.js"></script>

<script type="text/javascript">
    collapseEvent('#dadoDenunciante', '.iconDenunciante');
    collapseEvent('#dadoDenuncia', '.iconDenuncia');
    collapseEvent('#dadoDenunciado1', '.iconDenunciado1');
    collapseEvent('#dadoDenunciado2', '.iconDenunciado2');
    collapseEvent('#dadoDenunciado3', '.iconDenunciado3');
    collapseEvent('#dadoEncaminhar', '.iconEncaminhar'); 
    collapseEvent('#dadoApuracao', '.iconApuracao');
    collapseEvent('#dadoDescarte', '.iconDescarte');
    collapseEvent('#dadoValidacao', '.iconValidacao');
</script>

